---
title: "音声処理"
date: 2023-04-05T00:00:00+09:00
tags: [Python,AI]
categories: [AI]
---
# 音声処理

波形である音声データを何らかの周波数でデジタル化、
そのデータをもとに色々やろうねという処理

## デジタル化処理

### サンプリング

情報系なら知らないとバカなやつ。時間方向への離散化処理。
1秒間での切り分け数を「サンプリングレート」と呼ぶ（単位Hz)

当然、音声はアナログなので時間で離散化がいる

### 量子化

電圧方向（縦軸）での離散化。
音の大きさを電圧で示せるようにする。（※高さはHz)

*線形量子化*と*非線形量子化*がある。

#### 線形量子化

等間隔での量子化

#### 非線形量子化

等間隔ではない量子化。
0に近い部分は細かく切って、大きい音とかはおおざっぱに量子化するといった形にする。（人の耳の聞こえ方も非線形らしい）

### 符号化

量子化したデータを二進数にするだけ

## フーリエ変換

正弦波波形にいかなる波形も分解できるよというやつ。大学で習ったので詳細は略

### 窓関数

有限時間で波形を抽出するための関数。
矩形窓など色々種類がある。

窓関数を何度も適用して、離散的なフーリエ変換を計算するためのデータを作る

### 離散フーリエ変換 (DFT : Discrete Fourier Transform)

離散信号に対するフーリエ変換。

通常、無限時間+連続関数でしか適用できないフーリエ変換を有限時間かつ離散的な信号（デジタルなど）にも適用可能にした変換手法

代償として、計算量が$N^2$と死ぬほど遅い。そのため通常はFFTが使用される

### 高速フーリエ変換 (FFT : Fast Fourier Transform)

DFTのオーダーがN^2とめちゃくちゃ遅いので、複素数の対称性を用いて効率的に溶けるようにしたフーリエ変換

計算量が$N/2(Log_2(N) -1)$にまで削減されている

## 音声処理の手法

### Text To Speach (TTS)

テキストを音声にするやつ。ただの文字読み上げ

### 音声変換

ボイスチェンジャーのこと

## 音声合成の手法

自然言語と流れは似ている。元々ルールベースだったものが統計学的な出力にシフトしていったような形になる。

### 規則合成

ただのボイスチェンジャー的な合成法のこと

### 波形接続型音声合成

録音した音を組み合わせて文を読むこと。一昔前の機械音声とかが該当

### 統計的パラメトリック音声合成

統計的に学習した生成モデルから音声を出すこと

**Neural Networkでの音声モデルなどはこちらが該当**

## 音声処理のタスク

例としてスマートスピーカーを作る場合に必要な3つのタスクに着目する

### 多話者音声合成

色んな人の音声を学習、特定の人物の話者の話し方やイントネーションを学習
### TTS

入力テキストからどれだけ滑らかに文を発音できるようにするかを学習

### 音楽の合成

音楽データから、それっぽい音楽を生成できるようにしましたという話。余り情報がないため割愛

## Connectionist Temporal Classification (CTC)

音声認識において、発音とそれに合わせた時間+発音した内容を毎回用意していると当然死ぬ。
かつ、単語１つとっても伸ばし発音や短い発音などもあるので入力サイズも一定にならない

その対策として「無音」の情報を入れ込むことで入力サイズを一定化にする（パディング的なイメージ）

## WaveNet

音声を出力するための音声合成ニューラルネットワーク

中身的にはCNNとRNNを組み合わせて、時系列的に複数チャンネルであらわされた音声を出力するような形式となっている

構造的には3d Dilated Resnetに近い気がする
### Dilated Casual Conv

Dilated Conv + Causal Conv

Dilatedに加えて、「過去の情報のみを畳み込み演算する手法」であるCasual Convを組み合わせて使用する

Dilated Convが入るのは、Casual Convだけでは過去の直近情報しか取れないため、
受容野を広げるために使用されている

### Residual & Skip Connection

Resnetと同じ。入力を別レイヤの層につないで残差を学習させる

### Gated Activation Units

ただのLSTMのゲート。過去のデータをどこまで使用するかを持ち込む

## Conditional Wavenet

コナンのボイスチェンジャー的な奴。追加情報を加えることで、特定人物の声などを指定することができる

### Global COnditioning

全体的に条件を付ける。「～さん的な声」といった感じ

中身としてはLSTMのゲートと同じ式を加えるような形式

### Local COnditioning

一定的な時系列に条件付けを付与するような形式

